define(["loglevel","jquery","backbone","underscore","fenix-ui-menu","q","fenix-ui-catalog","fenix-ui-bridge","fenix-ui-metadata-editor","fenix-ui-DSDEditor","fenix-ui-DataEditor"],function(e,t,n,r,o,i,a,s,u,l,c){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){e.exports=n(1)},function(e,t,n){var r,o;r=[n(2),n(3),n(4),n(30)],o=function(e,t,n,r){"use strict";function o(n){e.info("FENIX Data Management"),e.info(n),t.extend(!0,this,{},n),this._attach(),this._start()}return o.prototype._attach=function(){this.$el=t(this.el),this.$el.html(r)},o.prototype._start=function(){this.router=new n({$el:this.$el,cache:this.cache,environment:this.environment,lang:this.lang})},o}.apply(t,r),!(void 0!==o&&(e.exports=o))},function(t,n){t.exports=e},function(e,n){e.exports=t},function(e,t,n){var r,o;r=[n(3),n(6),n(7),n(2),n(8),n(9),n(10),n(14),n(20),n(5),n(21),n(22),n(23),n(25),n(27),n(29),n(19),n(11)],o=function(e,t,n,r,o,i,a,s,u,l,c,d,f,p,h,v,m,g){"use strict";var D={CONTAINER:"#fx-data-management-content",HOLDER:"#fx-data-management-content-holder",BTN_CONTAINER:"#fx-data-managment-update-model-holder",BTN_ELEMENT:"#fx-data-managment-update-button"};return t.Router.extend({initialize:function(n){e.extend(!0,this,n),this.initCommonViews(),this.initVariables(),this.bindEventListeners(),t.history.start()},routes:{"(/)":"onLanding","(/)landing(/)":"onLanding","(/)home(/)":"onHome","(/)add(/)":"onAdd","(/)metadata(/)":"onMetadata","(/)dsd(/)":"onDSD","(/)data(/)":"onData","(/)delete(/)":"onDelete","(/)search(/)":"onSearch","(/)not-found(/)":"onNotFound","(/)denied(/)":"onDenied","(/)*path":"onDefaultRoute"},initCommonViews:function(){r.info("Render common views"),e(D.BTN_CONTAINER).hide(),this.initMenu()},initMenu:function(){r.info("render menu");var t=this;this.menu=new o({lang:t.lang,config:i});var n=["delete","metadata","dsd","data","home"];e.each(n,function(e,n){t.menu.disableItem(n)})},initVariables:function(){this.$viewsHolder=this.$el.find(D.HOLDER)},bindEventListeners:function(){r.info("bindEventListeners"),this.listenTo(t,"resource:loaded",function(){r.info("[EVT] resource:loaded ",m.resource);var t=this,n=["delete","metadata","dsd","data","home"];e.each(n,function(e,n){t.menu.activateItem(n)}),t.menu.disableItem("add"),this.goTo("#/home")}),this.listenTo(t,"resource:unloaded",function(){r.info("[EVT] resource:loaded ",m.resource);var t=this,n=["delete","metadata","dsd","data","home"];e.each(n,function(e,n){t.menu.disableItem(n)}),t.menu.activateItem("add")}),this.listenTo(t,"resource:updated",function(){r.info("[EVT] resource:updated ",m.resource),this.goTo("#/home")})},onLanding:function(){r.info("onLanding called."),this.switchView(a,{el:D.CONTAINER,menu:"landing",lang:this.lang,environment:this.environment})},onHome:function(){r.info("onHome called."),e(D.BTN_CONTAINER).hide(),this.switchView(v,{el:D.CONTAINER,menu:"home",lang:this.lang,environment:this.environment})},onSearch:function(){r.info("onSearch called."),r.warn("TODO: Check if this search is voluntary [if Resource is loaded]"),e(D.BTN_CONTAINER).hide(),this.switchView(s,{el:D.CONTAINER,menu:"search",lang:this.lang,environment:this.environment})},onDenied:function(){r.info("Denied - Routing to Lading"),e(D.BTN_CONTAINER).hide(),this.goTo("#/landing")},onAdd:function(){r.info("Add Resource"),e(D.BTN_CONTAINER).hide(),this.switchView(c,{el:D.CONTAINER,lang:this.lang,environment:this.environment})},onMetadata:function(){r.info("Metadata View"),this.switchView(f,{el:D.CONTAINER,menu:"metadata",lang:this.lang,environment:this.environment})},onDSD:function(){r.info("DSD View"),e(D.BTN_ELEMENT).html(g[this.lang.toLowerCase()].btnSave),e(D.BTN_CONTAINER).show(),this.switchView(p,{el:D.CONTAINER,menu:"dsd",lang:this.lang,environment:this.environment,savebtn:D.BTN_ELEMENT})},onData:function(){r.info("Delete Resource"),this.switchView(h,{el:D.CONTAINER,menu:"data",lang:this.lang,environment:this.environment})},onDelete:function(){r.info("Delete Resource"),e(D.BTN_CONTAINER).hide(),this.switchView(d,{el:D.CONTAINER,menu:"delete",lang:this.lang,environment:this.environment})},onNotFound:function(){r.info("Not found"),e(D.BTN_CONTAINER).hide(),this.switchView(u,{el:D.CONTAINER,lang:this.lang,environment:this.environment})},onDefaultRoute:function(){r.info("Default"),this.goTo("#/not-found")},switchView:function(e,t){if(this.currentViewCreator===e)return void r.warn("Abort switch view because candidate view is current view");this.currentViewCreator=e,r.info("Switch view");var n=this,o=new e(t);"function"==typeof o.accessControl?(r.info("View has access control"),o.accessControl().then(function(){r.warn("Access control: GRANTED"),n.resetView(),n.renderView(e,t)},function(){r.warn("Access control: DENIED"),n.resetView(),n.onDenied()})):(r.info("View has NOT access control"),this.resetView(),this.renderView(e,t))},resetView:function(){this.disposeCurrentView(),this.addViewContainer()},renderView:function(e,t){var n=new e(t);this.currentView=n.render(t),this.menu.select(t.menu)},disposeCurrentView:function(){this.currentView&&this.currentView.remove&&(this.currentView.remove(),delete this.currentView,r.info("Removed current view")),r.info("Dispose current view: success")},addViewContainer:function(){this.$viewsHolder.append('<div id="'+D.CONTAINER.substring(1)+'"></div>'),r.info("Add view container: success")},goTo:function(e,t,n){this.navigate(e,{trigger:!!t,replace:!!n})}})}.apply(t,r),!(void 0!==o&&(e.exports=o))},function(e,t,n){var r,o;r=[n(6),n(2)],o=function(e,t){"use strict";var n=e.View.extend({render:function(){return t.info("Rendering NOtFound - Search"),this.$el.html("<h1>!Denied</h1>"),this},remove:function(){e.View.prototype.remove.apply(this,arguments)}});return n}.apply(t,r),!(void 0!==o&&(e.exports=o))},function(e,t){e.exports=n},function(e,t){e.exports=r},function(e,t){e.exports=o},function(e,t,n){var r;r=function(){"use strict";return{items:[{attrs:{id:"home"},target:"#",label:{EN:"Home",FR:"Home FR"}},{attrs:{id:"landing"},target:"#landing",label:{EN:"Landing",FR:"Landing FR"}},{attrs:{id:"search"},target:"#search",label:{EN:"Search",FR:"Search FR"}},{attrs:{id:"add"},target:"#add",label:{EN:"Add",FR:"Add FR"}},{attrs:{id:"metadata"},target:"#metadata",label:{EN:"Metadata",FR:"Metadata FR"}},{attrs:{id:"dsd"},target:"#dsd",label:{EN:"DSD",FR:"DSD FR"}},{attrs:{id:"data"},target:"#data",label:{EN:"Data",FR:"Data FR"}},{attrs:{id:"delete"},target:"#delete",label:{EN:"Delete",FR:"Delete FR"}}],type:"sidemenu",languages:[],active:["landing","search"]}}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))},function(e,t,n){var r,o;r=[n(3),n(6),n(2),n(11)],o=function(e,t,n,r){"use strict";var o=t.View.extend({render:function(t){return e.extend(!0,this,t),this.lang=this.lang.toLowerCase(),n.info("Rendering View - Landing"),this.$el.html("<h1>"+r[this.lang].DManHeader+"</h1><hr><p>"+r[this.lang].DManIntro+"</p>"),this},remove:function(){t.View.prototype.remove.apply(this,arguments)}});return o}.apply(t,r),!(void 0!==o&&(e.exports=o))},function(e,t,n){var r,o;r=[n(12),n(13)],o=function(e,t){"use strict";return{en:e,fr:t}}.apply(t,r),!(void 0!==o&&(e.exports=o))},function(e,t,n){var r;r=function(){"use strict";return{confirmDataRemove:"Do you want to remove all your data?",success:"Success",resourceSaved:"Resource saved",resourceDeleted:"Resource deleted",resourceLoaded:"Resource loaded",resourceCopied:"Resource copied",error:"Error",errorMetaMinimum:'Please fill the minimum set of metadata in the "Identification" and "Contacts" sections',errorParsingJson:"Error parsing Json file, check the structure and try again",errorLoadinResource:"Error loading the resource",errorSavingResource:"Error saving the resource",overwriteExistingDSD:"This operation will overwrite the DSD you're working on, continue?",unsavedWarning:"Some changes are not saved, do you want to continue without saving?",downloadDSD:"Download DSD",uploadDSD:"Upload DSD",invalidData:"Data is not valid",nullDSDCols:"DSD has no columns",nullCsvCols:"CSV has no columns",wrongColumnCount:"The columns' count in the CSV must match the one in the DSD",wrongColumnId:"The columns' names in the CSV must match the IDs in the DSD",unknownCodes:"Some codes could not be found in a codelist",DataMatchColumn:"Match the DSD columns with the CSV ones",DataDuplicateFound:"Some duplicated values found, keep old data or replace with the new values just uploaded?",btnDataMergeKeepNew:"Replace with new values",btnDataMergeKeepOld:"Keep old values",btnDataMergeCancel:"Cancel",DataEditorMainContainer:"LOADING...",DataDeleteAll:"Delete all",DatalblUpload:"Upload",DatalblSeparator:"CSV Separator",DatalblcsvSeparatorSemi:"Semicolon",DatalblcsvSeparatorComma:"Comma",unknownCode:"Unknown code",invalidYear:"Invalid year",invalidMonth:"Invalid month",invalidDate:"Invalid date",invalidNumber:"Invalid number",invalidBool:"Invalid boolean",btnSearch:"SEARCH",btnAdd:"ADD",btnMetadata:"METADATA",btnDSD:"DSD",btnData:"DATA",btnSaveMeta:"Save",btnCopyMeta:"Copy Metadata",btnLoadMeta:"Load",btnSaveDSD:"Save",btnCsvMatcherOk:"OK",btnCsvMatcherCancel:"Cancel",btnHome:"Home",btnDeleteUndo:"Undo",btnDeleteConfirm:"Confirm",dataEditEnd:"Save",btnSave:"Save",DManHeader:"FENIX Data Management",DManResHeader:"Edit Resource",MetaHeader:"Metadata Editor",MetaCopyHeader:"Copy metadata from resource",DSDHeader:"Data Structure Definition Editor",DataHeader:"Data Editor",CloseHeader:"Resource Closed",DeleteHeader:"Delete Resource?",DManIntro:"Data management is the process of controlling the information generated during a research project. Any research will require some level of data management, and funding agencies are increasingly requiring scholars to plan and execute good data management practices.",CopyMetaRID:"Resource Identification Code",CopyMetaVer:"(EN) Resource Version (if applicable)"}}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))},function(e,t,n){var r;r=function(){"use strict";return{confirmDataRemove:"Voulez-vous supprimer toutes les données?",success:"Réussite",resourceSaved:"Ressource enregistrée",resourceDeleted:"Ressource supprimée",resourceLoaded:"Ressource chargée",resourceCopied:"Ressource copiée",error:"Erreur",errorMetaMinimum:'Remplissez l\'ensemble minimale de métadonnées dans les sections "Identification" et "Contacts"',errorParsingJson:"Erreur d'analyse du fichier Json, vérifiez la structure et essayez de nouveau",errorLoadinResource:"Erreur de chargement de la ressource",errorSavingResource:"Erreur de sauvegarde de la ressource",overwriteExistingDSD:"Cette opération écrasera le DSD sur lequel vous travaillez, voulez-vous continuer?",unsavedWarning:"Certaines modifications ne sont pas enregistrées changes are not saved, voulez-vous continuer sans enregistrer?",downloadDSD:"Téléchargez le DSD",uploadDSD:"Uploadez le DSD",invalidData:"Les données ne sont pas valides",nullDSDCols:"Le DSD n'a pas de colonnes",nullCsvCols:"Le CSV n'a pas de colonnes",wrongColumnCount:"Le nombre des colonnes dans le CSV doit correspondre à celui du DSD",wrongColumnId:"Les noms des colonnes dans le CSV doivent correspondre aux IDs dans le DSD",unknownCodes:"Des codes n'ont pas été trouvés dans la codeliste",DataMatchColumn:"Faites correspondre les colonnes du DSD avec celles du CSV",DataDuplicateFound:"Des valeurs dupliquées ont été trouvées, voulez-vous conserver les vieilles valeurs ou les remplacer avec les nouvelles?",btnDataMergeKeepNew:"Remplacer avec les nouvelles valeurs",btnDataMergeKeepOld:"Conserver les vieilles valeurs",btnDataMergeCancel:"Annulez",DataEditorMainContainer:"Chargement en cours...",DataDeleteAll:"Supprimez tous",DatalblUpload:"Téléchargez",DatalblSeparator:"Séparateur du CSV",DatalblcsvSeparatorSemi:"Point-virgule",DatalblcsvSeparatorComma:"Virgule",unknownCode:"Code inconnu",invalidYear:"Année non valide",invalidMonth:"Mois non valide",invalidDate:"Date non valide",invalidNumber:"Nombre non valide",invalidBool:"Valeur booléenne non valide",btnSearch:"RCHERCHER",btnAdd:"AJOUTER",btnMetadata:"MÉTADONNÉES",btnDSD:"DSD",btnData:"DONNÉES",btnSaveMeta:"Enregistrer",btnCopyMeta:"Copier les métadonnées",btnLoadMeta:"Charger",btnSaveDSD:"Enregistrer",btnCsvMatcherOk:"OK",btnCsvMatcherCancel:"Annuler",btnHome:"Accueil",btnDeleteUndo:"Annuler",btnDeleteConfirm:"Confirmer",dataEditEnd:"Enregistrer",btnSave:"Enregistrer",DManHeader:"Gestion des Données FENIX",DManResHeader:"Éditer la Ressource",MetaHeader:"Éditeur des Métadonnées",MetaCopyHeader:"Copier les métadonnées d'une ressource",DSDHeader:"Éditeur de la Définition de la Structure des Données",DataHeader:"Éditeur des Données",CloseHeader:"Ressource fermée",DeleteHeader:"Voulez-vous supprimer la ressource?",DManIntro:"La gestion des données est le processus de contrôle des informations générées lors d'un projet de recherche. Toutes les recherches nécessiteront d'un certain niveau de gestion des données, et les organismes de financement sont de plus en plus exigeant que les chercheurs planifient et exécutent des bonnes pratiques de gestion des données.",CopyMetaRID:"Code d'identification de la Ressource",CopyMetaVer:"Version de la Ressource (si applicable)"}}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))},function(e,t,n){var r,o;r=[n(3),n(6),n(2),n(15),n(16),n(17),n(18),n(19)],o=function(e,t,n,r,o,i,a,s){"use strict";var u=t.View.extend({render:function(t){return n.info("{SEARCH} Rendering View"),e.extend(!0,i,{},this,t),console.log("CatalogConfig",i),this.catalog=new o(i),console.log(this.catalog.environment),this.bindEventListeners(),s.unloadResource(),this},bindEventListeners:function(){var e=this;n.info("{SEARCH} bindEventListeners()"),this.catalog.on("select",function(t){n.info("*select* triggered"),e.selectResource(t)})},selectResource:function(e){n.info("{SEARCH} selectResource() ",e),s.loadResource(e)},remove:function(){t.View.prototype.remove.apply(this,arguments)}});return u}.apply(t,r),!(void 0!==o&&(e.exports=o))},function(e,t){e.exports=i},function(e,t){e.exports=a},function(e,t,n){var r;r=function(){"use strict";return{el:"",lang:"",defaultSelectors:["resourceType","contextSystem"],environment:"",hideCloseButton:!0,pluginRegistry:{contextSystem:{selector:{id:"dropdown",source:[{value:"uneca",label:"UNECA"},{value:"cstat_afg",label:"CountrySTAT Afghanistan"}],"default":["uneca"],hideSummary:!0,config:{plugins:["remove_button"],mode:"multi"}},template:{hideRemoveButton:!1},format:{output:"enumeration",metadataAttribute:"dsd.contextSystem"}}}}}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))},function(e,t){e.exports=s},function(e,t,n){var r,o;r=[n(3),n(7),n(2),n(15),n(18),n(6)],o=function(e,t,n,r,o,i){"use strict";function a(){n.info("FENIX Data Management - Resource Manager"),this.bridge=new o,console.log(this.bridge.environment),this.resource={}}return a.prototype.setEnvironment=function(e){n.info("FENIX Data Management - Current Environment: "+e),this.environment=e},a.prototype.isResourceValid=function(e){return!0},a.prototype.isDSDValid=function(e){var t=e;if(!t.dsd)throw new Error("DSD to update cannot be null");if(!t.dsd.datasources)throw new Error("Datasources cannot be null");if(0==t.dsd.datasources.length)throw new Error("Datasources cannot be null");if(!t.dsd.contextSystem)throw new Error("ContextSystem cannot be null");return!0},a.prototype.isDataValid=function(e){return!0},a.prototype.isMetaValid=function(e){return!0},a.prototype.isDSDEditable=function(){return!Boolean(this.resource.metadata.dsd.columns.length)},a.prototype.isResourceAvailable=function(){return e.isEmptyObject(this.resource)},a.prototype.unloadResource=function(){this.resource={},i.trigger("resource:unloaded")},a.prototype.updateResource=function(){i.trigger("resource:updated")},a.prototype.getCodelist=function(e){return n.info("getCodelist called ",e),this.bridge.getResource({body:[],uid:e}).then(function(e){return e})},a.prototype.loadResource=function(e){this.bridge.getResource({body:[],uid:e.model.uid,params:{dsd:!0,full:!0}}).then(t.bind(this._onLoadResourceSuccess,this),t.bind(this._onLoadResourceError,this))},a.prototype._onLoadResourceSuccess=function(e){n.info("Load resource success",e),this.resource=e,n.info("navigate to home"),i.trigger("resource:loaded")},a.prototype._onLoadResourceError=function(e){n.error("Load resource error",e),n.error(e)},a.prototype.getMetadata=function(){this.bridge.getMetadata({body:[],uid:this.resource.metadata.uid}).then(t.bind(this._onGetMetadataSuccess,this),t.bind(this._onGetMetadataError,this))},a.prototype._onGetMetadataSuccess=function(e){return n.info("_onGetMetadataSuccess"),n.info(e),e},a.prototype._onGetMetadataError=function(e){return n.error("_onGetMetadataError"),n.error(e),!1},a.prototype.getDSD=function(){n.info("getDSD Called.",this.resource.metadata.dsd);var e=this.resource.metadata.dsd.columns;return e},a.prototype.setDSD=function(e){n.info("setDSD Called.",e),isDSDValid(e)&&(this.resource.metadata.dsd.columns=e,i.trigger("resource:updated"))},a.prototype.getData=function(){n.info("getData called.",this.resource.data);var e=this.resource.data;return e},a.prototype.getCurrentResourceCodelists=function(){n.info("getCurrentResourceCodelists called.");var r=[],o=this.resource.metadata.dsd.columns;return e.each(o,function(e,t){"code"==t.dataType&&r.push(t.domain.codes[0].idCodeList)}),t.unique(r)},a.prototype.generateDSDStructure=function(){n.info("generateDSDStructure called.");var t=this,o=t.getCurrentResourceCodelists(),i=[];return e.each(o,function(e,n){i.push(t.getCodelist(n))}),r.all(i).then(function(t){var n={};return e.each(t,function(e,t){n[t.metadata.uid]=t}),n})},new a}.apply(t,r),!(void 0!==o&&(e.exports=o))},function(e,t,n){var r,o;r=[n(6),n(2)],o=function(e,t){"use strict";var n=e.View.extend({render:function(){return t.info("Rendering NOtFound - Search"),this.$el.html("<h1>Oh snap! 404</h1>"),this},remove:function(){e.View.prototype.remove.apply(this,arguments)}});return n}.apply(t,r),!(void 0!==o&&(e.exports=o))},function(e,t,n){var r,o;r=[n(6),n(2),n(15)],o=function(e,t,n){"use strict";var r=e.View.extend({render:function(){return t.info("Rendering View - Add"),this.$el.html("<h1>Hello world from Add</h1>"),this},accessControl:function(){return new n.Promise(function(e,t){e()})},remove:function(){e.View.prototype.remove.apply(this,arguments)}});return r}.apply(t,r),!(void 0!==o&&(e.exports=o))},function(e,t,n){var r,o;r=[n(6),n(2),n(15)],o=function(e,t,n){"use strict";var r=e.View.extend({render:function(){return t.info("Rendering View - Delete"),this.$el.html("<h1>Hello world from Delete</h1>"),this},accessControl:function(){return new n.Promise(function(e,t){e()})},remove:function(){e.View.prototype.remove.apply(this,arguments)}});return r}.apply(t,r),!(void 0!==o&&(e.exports=o))},function(e,t,n){var r,o;r=[n(3),n(6),n(2),n(15),n(24)],o=function(e,t,n,r,o){"use strict";var i=t.View.extend({render:function(t){return e.extend(!0,this,t),n.info("Rendering View - Metadata",this),this.lang=this.lang.toLowerCase(),n.info("{MDE} Rendering View"),this.initViews(),this},initViews:function(){n.info("{MDE} initViews"),this.MDE=new o({el:this.$el,lang:this.lang,config:{},cache:this.cache,environment:this.environment})},accessControl:function(){return new r.Promise(function(e,t){e()})},remove:function(){t.View.prototype.remove.apply(this,arguments)}});return i}.apply(t,r),!(void 0!==o&&(e.exports=o))},function(e,t){e.exports=u},function(e,t,n){var r,o;r=[n(3),n(6),n(2),n(15),n(26),n(19)],o=function(e,t,n,r,o,i){"use strict";var a=t.View.extend({render:function(t){return e.extend(!0,this,t),this.lang=this.lang.toLowerCase(),n.info("{DSD} Rendering View"),this.initViews(),this.bindEventListeners(),this},bindEventListeners:function(){n.info("{DSD} bindEventListeners()"),e(this.savebtn).on("click",function(){console.log(o.validate()),i.setDSD(o.get())})},initViews:function(){n.info("{DSD} initViews");var e={columnEditor:{codelists:"../config/dev_codelists.json"},MLEditor:{langs:["EN","FR"]},D3SConnector:{},lang:"EN",DSD_EDITOR_CODELISTS:[{value:"GAUL|2014",text:{EN:"GAUL",FR:"GAUL FR"},subject:"geo"},{value:"CPC|2.1",text:{EN:"CPC 2.1",FR:"CPC 2.1 FR"},subject:"item"},{value:"Flag",text:{EN:"Flag",FR:"Flag FR"},subject:"flag"},{value:"CountrySTAT_Agricultural_Population",text:{EN:"Agricultural",FR:"Agricultural FR"},subject:"agriculturalPopulation"},{value:"CountrySTAT_DAC",text:{EN:"DAC",FR:"DAC FR"},subject:"sector"},{value:"CountrySTAT_Field_Management",text:{EN:"Field Management",FR:"Field Management FR"},subject:"fieldManagement"},{value:"CountrySTAT_Food",text:{EN:"Food",FR:"Food FR"},subject:"food"},{value:"CountrySTAT_Gender",text:{EN:"Gender",FR:"Gender FR"},subject:"gender"},{value:"CountrySTAT_Residence",text:{EN:"Residence",FR:"Residence FR"},subject:"residence"},{value:"CountrySTAT_Indicators",text:{EN:"CountrySTAT Indicators",FR:"CountrySTAT Indicators FR"},subject:"indicator"},{value:"HS|full",text:{EN:"HS Full",FR:"HS Full FR"},subject:"item"},{value:"CountrySTAT_UM",text:{EN:"CountrySTAT UM",FR:"CountrySTAT UM FR"},subject:"um"},{value:"CountrySTAT_Fishery_products",text:{EN:"Fishery products",FR:"Fishery products FR"},subject:"item"},{value:"CountrySTAT_Forest_products",text:{EN:"Forest products",FR:"Forest products FR"},subject:"item"},{value:"CountrySTAT_Fishery_products_scientific",text:{EN:"Fishery scientific products",FR:"Fishery scientific products FR"},subject:"item"},{value:"Activités_agricoles",text:{EN:"Activités agricoles",FR:"Activités agricoles"},subject:"census"},{value:"Activités_forestières",text:{EN:"Activités forestières",FR:"Activités forestières"},subject:"census"},{value:"Alphabetisation",text:{EN:"Alphabetisation",FR:"Alphabetisation"},subject:"census"},{value:"Approvisionement_en_eau",text:{EN:"Approvisionement en eau",FR:"Approvisionement en eau"},subject:"census"},{value:"Classe_de_distance",text:{EN:"Classe de distance",FR:"Classe de distance"},subject:"census"},{value:"Difficultés_rencontrées",text:{EN:"Difficultés rencontrées",FR:"Difficultés rencontrées"},subject:"census"},{value:"Distance",text:{EN:"Distance",FR:"Distance"},subject:"census"},{value:"Equipments_agricoles",text:{EN:"Equipments agricoles",FR:"Equipments agricoles"},subject:"census"},{value:"Existence",text:{EN:"Existence",FR:"Existence"},subject:"census"},{value:"Group_Age",text:{EN:"Group Age",FR:"Group Age"},subject:"census"},{value:"Indicateurs_Recensement",text:{EN:"Indicateurs Recensement",FR:"Indicateurs Recensement"},subject:"census"},{value:"Main_d'oeuvre",text:{EN:"Main d'oeuvre",FR:"Main d'oeuvre"},subject:"census"},{value:"Matériel",text:{EN:"Matériel",FR:"Matériel"},subject:"census"},{value:"Mode_de_faire_valoir",text:{EN:"Mode de faire valoir",FR:"Mode de faire valoir"},subject:"census"},{value:"Niveau_Instruction",text:{EN:"Niveau Instruction",FR:"Niveau Instruction"},subject:"census"},{value:"Nombre_conjointes",text:{EN:"Nombre conjointes",FR:"Nombre conjointes"},subject:"census"},{value:"Nombre_de_champs_possédés",text:{EN:"Nombre de champs possédés",FR:"Nombre de champs possédés"},subject:"census"},{value:"Nombre_de_pieds",text:{EN:"Nombre de pieds",FR:"Nombre de pieds"},subject:"census"},{value:"Objectifs_de_production",text:{EN:"Objectifs de production",FR:"Objectifs de production"},subject:"census"},{value:"Oui_Non",text:{EN:"Oui Non EN",FR:"Oui Non"},subject:"census"},{value:"Répartition_exploitations",text:{EN:"Répartition exploitations EN",FR:"Répartition exploitations"},subject:"census"},{value:"Route_bitumée",text:{EN:"Route bitumée EN",FR:"Route bitumée"},subject:"census"},{value:"Situation_Matrimoniale",text:{EN:"Situation Matrimoniale EN",FR:"Situation Matrimoniale"},subject:"census"},{value:"Source_éléctricité",text:{EN:"Source éléctricité EN",FR:"Source éléctricité"},subject:"census"},{value:"Superficie_cultivée",text:{EN:"Superficie cultivée EN",FR:"Superficie cultivée"},subject:"census"},{value:"Taille_de_menage",text:{EN:"Taille de menage EN",FR:"Taille de menage"},subject:"census"}]},t=function(){n.info("{DSD} Editor Callback"),o.set(i.getDSD()),n.info("{DSD} is editable ",i.isDSDEditable()),o.editable(i.isDSDEditable())};o.init(this.$el,e,t)},accessControl:function(){return new r.Promise(function(t,n){e.isEmptyObject(i.resource)?n():t()})},remove:function(){t.View.prototype.remove.apply(this,arguments)}});return a}.apply(t,r),!(void 0!==o&&(e.exports=o))},function(e,t){e.exports=l},function(e,t,n){var r,o;r=[n(3),n(6),n(2),n(15),n(28),n(19)],o=function(e,t,n,r,o,i){"use strict";var a=t.View.extend({render:function(t){return e.extend(!0,this,t),this.lang=this.lang.toLowerCase(),n.info("{Data} Rendering View"),this.initViews(),this},initViews:function(){n.info("{Data} initViews");var e={D3SConnector:{getMetaAndDataUrl:"http://faostat3.fao.org:7799/v2/msd/resources"}},t=function(){n.info("{Data} Editor Callback"),n.info("{Data} Calling the Codelists"),i.generateDSDStructure().then(function(e){n.info("{Data} Calling the DSD");var t=i.getDSD();console.log("params"),console.log(JSON.stringify(t)),console.log(JSON.stringify(e)),o.setColumns(t,e,function(){n.info("{Data} Columns Setted."),o.setData(i.getData())})})};o.init(this.$el,e,t)},accessControl:function(){return new r.Promise(function(t,n){e.isEmptyObject(i.resource)?n():t()})},remove:function(){t.View.prototype.remove.apply(this,arguments)}});return a}.apply(t,r),!(void 0!==o&&(e.exports=o))},function(e,t){e.exports=c},function(e,t,n){var r,o;r=[n(3),n(6),n(2),n(15),n(19),n(11)],o=function(e,t,n,r,o,i){"use strict";var a=t.View.extend({render:function(t){return e.extend(!0,this,t),this.lang=this.lang.toLowerCase(),console.log(o.resource),n.info("Rendering View - Home"),this.$el.html("<h1>Hello world from Home</h1><hr><br>And, by the way, this is our object:<br><code>"+JSON.stringify(o.resource)+"</code><br>"),this},accessControl:function(){return new r.Promise(function(t,n){e.isEmptyObject(o.resource)?n():t()})},remove:function(){t.View.prototype.remove.apply(this,arguments)}});return a}.apply(t,r),!(void 0!==o&&(e.exports=o))},function(e,t,n){var r=n(31);e.exports=(r["default"]||r).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){return'<div id="fx-data-management">\r\n    <div id="fx-data-managment-update-model-holder">\r\n        <button id="fx-data-managment-update-button"></button>\r\n    </div>\r\n    <div id="fx-data-management-content-holder" class="container"></div>\r\n</div>'},useData:!0})},function(e,t,n){e.exports=n(32)["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(){var e=new s.HandlebarsEnvironment;return p.extend(e,s),e.SafeString=l["default"],e.Exception=d["default"],e.Utils=p,e.escapeExpression=p.escapeExpression,e.VM=v,e.template=function(t){return v.template(t,e)},e}t.__esModule=!0;var a=n(33),s=o(a),u=n(47),l=r(u),c=n(35),d=r(c),f=n(34),p=o(f),h=n(48),v=o(h),m=n(49),g=r(m),D=i();D.create=i,g["default"](D),D["default"]=D,t["default"]=D,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t,n){this.helpers=e||{},this.partials=t||{},this.decorators=n||{},u.registerDefaultHelpers(this),l.registerDefaultDecorators(this)}t.__esModule=!0,t.HandlebarsEnvironment=o;var i=n(34),a=n(35),s=r(a),u=n(36),l=n(44),c=n(46),d=r(c),f="4.0.5";t.VERSION=f;var p=7;t.COMPILER_REVISION=p;var h={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0"};t.REVISION_CHANGES=h;var v="[object Object]";o.prototype={constructor:o,logger:d["default"],log:d["default"].log,registerHelper:function(e,t){if(i.toString.call(e)===v){if(t)throw new s["default"]("Arg not supported with multiple helpers");i.extend(this.helpers,e)}else this.helpers[e]=t},unregisterHelper:function(e){delete this.helpers[e]},registerPartial:function(e,t){if(i.toString.call(e)===v)i.extend(this.partials,e);else{if("undefined"==typeof t)throw new s["default"]('Attempting to register a partial called "'+e+'" as undefined');this.partials[e]=t}},unregisterPartial:function(e){delete this.partials[e]},registerDecorator:function(e,t){if(i.toString.call(e)===v){if(t)throw new s["default"]("Arg not supported with multiple decorators");i.extend(this.decorators,e)}else this.decorators[e]=t},unregisterDecorator:function(e){delete this.decorators[e]}};var m=d["default"].log;t.log=m,t.createFrame=i.createFrame,t.logger=d["default"]},function(e,t){"use strict";function n(e){return c[e]}function r(e){for(var t=1;t<arguments.length;t++)for(var n in arguments[t])Object.prototype.hasOwnProperty.call(arguments[t],n)&&(e[n]=arguments[t][n]);return e}function o(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}function i(e){if("string"!=typeof e){if(e&&e.toHTML)return e.toHTML();if(null==e)return"";if(!e)return e+"";e=""+e}return f.test(e)?e.replace(d,n):e}function a(e){return!e&&0!==e||!(!v(e)||0!==e.length)}function s(e){var t=r({},e);return t._parent=e,t}function u(e,t){return e.path=t,e}function l(e,t){return(e?e+".":"")+t}t.__esModule=!0,t.extend=r,t.indexOf=o,t.escapeExpression=i,t.isEmpty=a,t.createFrame=s,t.blockParams=u,t.appendContextPath=l;var c={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},d=/[&<>"'`=]/g,f=/[&<>"'`=]/,p=Object.prototype.toString;t.toString=p;var h=function(e){return"function"==typeof e};h(/x/)&&(t.isFunction=h=function(e){return"function"==typeof e&&"[object Function]"===p.call(e)}),t.isFunction=h;var v=Array.isArray||function(e){return!(!e||"object"!=typeof e)&&"[object Array]"===p.call(e)};t.isArray=v},function(e,t){"use strict";function n(e,t){var o=t&&t.loc,i=void 0,a=void 0;o&&(i=o.start.line,a=o.start.column,e+=" - "+i+":"+a);for(var s=Error.prototype.constructor.call(this,e),u=0;u<r.length;u++)this[r[u]]=s[r[u]];Error.captureStackTrace&&Error.captureStackTrace(this,n),o&&(this.lineNumber=i,this.column=a)}t.__esModule=!0;var r=["description","fileName","lineNumber","message","name","number","stack"];n.prototype=new Error,t["default"]=n,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){a["default"](e),u["default"](e),c["default"](e),f["default"](e),h["default"](e),m["default"](e),D["default"](e)}t.__esModule=!0,t.registerDefaultHelpers=o;var i=n(37),a=r(i),s=n(38),u=r(s),l=n(39),c=r(l),d=n(40),f=r(d),p=n(41),h=r(p),v=n(42),m=r(v),g=n(43),D=r(g)},function(e,t,n){"use strict";t.__esModule=!0;var r=n(34);t["default"]=function(e){e.registerHelper("blockHelperMissing",function(t,n){var o=n.inverse,i=n.fn;if(t===!0)return i(this);if(t===!1||null==t)return o(this);if(r.isArray(t))return t.length>0?(n.ids&&(n.ids=[n.name]),e.helpers.each(t,n)):o(this);if(n.data&&n.ids){var a=r.createFrame(n.data);a.contextPath=r.appendContextPath(n.data.contextPath,n.name),n={data:a}}return i(t,n)})},e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var o=n(34),i=n(35),a=r(i);t["default"]=function(e){e.registerHelper("each",function(e,t){function n(t,n,i){l&&(l.key=t,l.index=n,l.first=0===n,l.last=!!i,c&&(l.contextPath=c+t)),u+=r(e[t],{data:l,blockParams:o.blockParams([e[t],t],[c+t,null])})}if(!t)throw new a["default"]("Must pass iterator to #each");var r=t.fn,i=t.inverse,s=0,u="",l=void 0,c=void 0;if(t.data&&t.ids&&(c=o.appendContextPath(t.data.contextPath,t.ids[0])+"."),o.isFunction(e)&&(e=e.call(this)),t.data&&(l=o.createFrame(t.data)),e&&"object"==typeof e)if(o.isArray(e))for(var d=e.length;s<d;s++)s in e&&n(s,s,s===e.length-1);else{var f=void 0;for(var p in e)e.hasOwnProperty(p)&&(void 0!==f&&n(f,s-1),f=p,s++);void 0!==f&&n(f,s-1,!0)}return 0===s&&(u=i(this)),u})},e.exports=t["default"];
},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var o=n(35),i=r(o);t["default"]=function(e){e.registerHelper("helperMissing",function(){if(1!==arguments.length)throw new i["default"]('Missing helper: "'+arguments[arguments.length-1].name+'"')})},e.exports=t["default"]},function(e,t,n){"use strict";t.__esModule=!0;var r=n(34);t["default"]=function(e){e.registerHelper("if",function(e,t){return r.isFunction(e)&&(e=e.call(this)),!t.hash.includeZero&&!e||r.isEmpty(e)?t.inverse(this):t.fn(this)}),e.registerHelper("unless",function(t,n){return e.helpers["if"].call(this,t,{fn:n.inverse,inverse:n.fn,hash:n.hash})})},e.exports=t["default"]},function(e,t){"use strict";t.__esModule=!0,t["default"]=function(e){e.registerHelper("log",function(){for(var t=[void 0],n=arguments[arguments.length-1],r=0;r<arguments.length-1;r++)t.push(arguments[r]);var o=1;null!=n.hash.level?o=n.hash.level:n.data&&null!=n.data.level&&(o=n.data.level),t[0]=o,e.log.apply(e,t)})},e.exports=t["default"]},function(e,t){"use strict";t.__esModule=!0,t["default"]=function(e){e.registerHelper("lookup",function(e,t){return e&&e[t]})},e.exports=t["default"]},function(e,t,n){"use strict";t.__esModule=!0;var r=n(34);t["default"]=function(e){e.registerHelper("with",function(e,t){r.isFunction(e)&&(e=e.call(this));var n=t.fn;if(r.isEmpty(e))return t.inverse(this);var o=t.data;return t.data&&t.ids&&(o=r.createFrame(t.data),o.contextPath=r.appendContextPath(t.data.contextPath,t.ids[0])),n(e,{data:o,blockParams:r.blockParams([e],[o&&o.contextPath])})})},e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){a["default"](e)}t.__esModule=!0,t.registerDefaultDecorators=o;var i=n(45),a=r(i)},function(e,t,n){"use strict";t.__esModule=!0;var r=n(34);t["default"]=function(e){e.registerDecorator("inline",function(e,t,n,o){var i=e;return t.partials||(t.partials={},i=function(o,i){var a=n.partials;n.partials=r.extend({},a,t.partials);var s=e(o,i);return n.partials=a,s}),t.partials[o.args[0]]=o.fn,i})},e.exports=t["default"]},function(e,t,n){"use strict";t.__esModule=!0;var r=n(34),o={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(e){if("string"==typeof e){var t=r.indexOf(o.methodMap,e.toLowerCase());e=t>=0?t:parseInt(e,10)}return e},log:function(e){if(e=o.lookupLevel(e),"undefined"!=typeof console&&o.lookupLevel(o.level)<=e){var t=o.methodMap[e];console[t]||(t="log");for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];console[t].apply(console,r)}}};t["default"]=o,e.exports=t["default"]},function(e,t){"use strict";function n(e){this.string=e}t.__esModule=!0,n.prototype.toString=n.prototype.toHTML=function(){return""+this.string},t["default"]=n,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){var t=e&&e[0]||1,n=g.COMPILER_REVISION;if(t!==n){if(t<n){var r=g.REVISION_CHANGES[n],o=g.REVISION_CHANGES[t];throw new m["default"]("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+r+") or downgrade your runtime to an older version ("+o+").")}throw new m["default"]("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+e[1]+").")}}function a(e,t){function n(n,r,o){o.hash&&(r=h.extend({},r,o.hash),o.ids&&(o.ids[0]=!0)),n=t.VM.resolvePartial.call(this,n,r,o);var i=t.VM.invokePartial.call(this,n,r,o);if(null==i&&t.compile&&(o.partials[o.name]=t.compile(n,e.compilerOptions,t),i=o.partials[o.name](r,o)),null!=i){if(o.indent){for(var a=i.split("\n"),s=0,u=a.length;s<u&&(a[s]||s+1!==u);s++)a[s]=o.indent+a[s];i=a.join("\n")}return i}throw new m["default"]("The partial "+o.name+" could not be compiled when running in runtime-only mode")}function r(t){function n(t){return""+e.main(o,t,o.helpers,o.partials,a,u,s)}var i=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],a=i.data;r._setup(i),!i.partial&&e.useData&&(a=d(t,a));var s=void 0,u=e.useBlockParams?[]:void 0;return e.useDepths&&(s=i.depths?t!==i.depths[0]?[t].concat(i.depths):i.depths:[t]),(n=f(e.main,n,o,i.depths||[],a,u))(t,i)}if(!t)throw new m["default"]("No environment passed to template");if(!e||!e.main)throw new m["default"]("Unknown template object: "+typeof e);e.main.decorator=e.main_d,t.VM.checkRevision(e.compiler);var o={strict:function(e,t){if(!(t in e))throw new m["default"]('"'+t+'" not defined in '+e);return e[t]},lookup:function(e,t){for(var n=e.length,r=0;r<n;r++)if(e[r]&&null!=e[r][t])return e[r][t]},lambda:function(e,t){return"function"==typeof e?e.call(t):e},escapeExpression:h.escapeExpression,invokePartial:n,fn:function(t){var n=e[t];return n.decorator=e[t+"_d"],n},programs:[],program:function(e,t,n,r,o){var i=this.programs[e],a=this.fn(e);return t||o||r||n?i=s(this,e,a,t,n,r,o):i||(i=this.programs[e]=s(this,e,a)),i},data:function(e,t){for(;e&&t--;)e=e._parent;return e},merge:function(e,t){var n=e||t;return e&&t&&e!==t&&(n=h.extend({},t,e)),n},noop:t.VM.noop,compilerInfo:e.compiler};return r.isTop=!0,r._setup=function(n){n.partial?(o.helpers=n.helpers,o.partials=n.partials,o.decorators=n.decorators):(o.helpers=o.merge(n.helpers,t.helpers),e.usePartial&&(o.partials=o.merge(n.partials,t.partials)),(e.usePartial||e.useDecorators)&&(o.decorators=o.merge(n.decorators,t.decorators)))},r._child=function(t,n,r,i){if(e.useBlockParams&&!r)throw new m["default"]("must pass block params");if(e.useDepths&&!i)throw new m["default"]("must pass parent depths");return s(o,t,e[t],n,0,r,i)},r}function s(e,t,n,r,o,i,a){function s(t){var o=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],s=a;return a&&t!==a[0]&&(s=[t].concat(a)),n(e,t,e.helpers,e.partials,o.data||r,i&&[o.blockParams].concat(i),s)}return s=f(n,s,e,a,r,i),s.program=t,s.depth=a?a.length:0,s.blockParams=o||0,s}function u(e,t,n){return e?e.call||n.name||(n.name=e,e=n.partials[e]):e="@partial-block"===n.name?n.data["partial-block"]:n.partials[n.name],e}function l(e,t,n){n.partial=!0,n.ids&&(n.data.contextPath=n.ids[0]||n.data.contextPath);var r=void 0;if(n.fn&&n.fn!==c&&(n.data=g.createFrame(n.data),r=n.data["partial-block"]=n.fn,r.partials&&(n.partials=h.extend({},n.partials,r.partials))),void 0===e&&r&&(e=r),void 0===e)throw new m["default"]("The partial "+n.name+" could not be found");if(e instanceof Function)return e(t,n)}function c(){return""}function d(e,t){return t&&"root"in t||(t=t?g.createFrame(t):{},t.root=e),t}function f(e,t,n,r,o,i){if(e.decorator){var a={};t=e.decorator(t,a,n,r&&r[0],o,i,r),h.extend(t,a)}return t}t.__esModule=!0,t.checkRevision=i,t.template=a,t.wrapProgram=s,t.resolvePartial=u,t.invokePartial=l,t.noop=c;var p=n(34),h=o(p),v=n(35),m=r(v),g=n(33)},function(e,t){(function(n){"use strict";t.__esModule=!0,t["default"]=function(e){var t="undefined"!=typeof n?n:window,r=t.Handlebars;e.noConflict=function(){return t.Handlebars===e&&(t.Handlebars=r),e}},e.exports=t["default"]}).call(t,function(){return this}())}])});
//# sourceMappingURL=fenix-ui-data-management.min.js.map